@model retailCLDVportal.Models.ProductEntity
@{
    ViewData["Title"] = "Product Details";
    decimal? price = Model.PriceCents.HasValue ? Model.PriceCents.Value / 100m : null;
}
<h2>Product Details</h2>

<div class="row g-4">
    <div class="col-lg-4">
        @if (!string.IsNullOrWhiteSpace(Model.MediaUrl) && (Model.MediaContentType?.StartsWith("image/") ?? false))
        {
            <img src="@Model.MediaUrl" class="img-fluid rounded" alt="product media" />
        }
        else if (!string.IsNullOrWhiteSpace(Model.MediaUrl))
        {
            <a href="@Model.MediaUrl" target="_blank" class="btn btn-outline-light">Open media</a>
        }
    </div>
    <div class="col-lg-8">
        <dl class="row">
            <dt class="col-sm-3">Name</dt><dd class="col-sm-9">@Model.Name</dd>
            <dt class="col-sm-3">Category</dt><dd class="col-sm-9">@Model.Category</dd>
            <dt class="col-sm-3">Price</dt><dd class="col-sm-9">@((price.HasValue ? $"R {price:0.00}" : ""))</dd>
            <dt class="col-sm-3">Stock</dt><dd class="col-sm-9">@Model.StockQuantity</dd>
            <dt class="col-sm-3">Available</dt><dd class="col-sm-9">@((Model.IsAvailable ?? ((Model.StockQuantity ?? 0) > 0)) ? "Yes" : "No")</dd>
            <dt class="col-sm-3">Description</dt><dd class="col-sm-9">@Model.Description</dd>
        </dl>

        <a class="btn btn-primary" asp-action="Edit" asp-route-pk="@Model.PartitionKey" asp-route-rk="@Model.RowKey">Edit</a>
        <a class="btn btn-outline-secondary" asp-action="Index">Back</a>
    </div>
</div>
